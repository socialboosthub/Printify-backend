<!DOCTYPE html>
<html>
<head>
  <title>Product</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="product"></div>

<script>
const BACKEND = "https://printify-backend-400k.onrender.com";

async function loadProduct() {
  const url = new URL(window.location.href);
  const id = url.searchParams.get("id");

  const res = await fetch(`${BACKEND}/api/products/${id}`);
  const product = await res.json();

  document.getElementById("product").innerHTML = `
    <h1>${product.title}</h1>
    <p>${product.description}</p>

    <h3>Colors:</h3>
    ${product.options[0].values.map(v => `
      <div style="display:flex;align-items:center;">
        <div style="width:20px;height:20px;background:${v.colors[0]};margin-right:10px;"></div>
        ${v.title}
      </div>
    `).join("")}

    <br>
    <a href="checkout.html?id=${product.id}" class="btn">Buy Now</a>
  `;
}

loadProduct();
</script>

</body>
</html>
